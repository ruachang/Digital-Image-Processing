# Readme

刘暢: 19309088  

吴甜裕: 18307060

## 原理简介

阈值分割的基本原理是根据图像不同区域灰度的分布将其分为不同的部分, 根据使用的阈值来源, 可以将其分为全局阈值处理和局部阈值处理, 其中全局阈值处理的主要的方法可以分为

* 基本全局阈值处理: 适用于图像灰度直方图分布具有很深的波谷, 缺点是对于灰度直方图分布比较几种或者波峰不明显时效果较差
* Otsu方法的全局最优: 通过最大化类间方差对不同的类进行分割, 相对分割的性能较好
* 基于平滑的全局阈值方法: 首先对图像进行预处理滤除某些干扰因素, 减少噪声, 并对直方图进行压缩, 但是对于较小物体的分割效果不佳
* 基于边缘信息的全局阈值方法: 通过提取图中的边缘信息, 减少背景信息对灰度直方图的影响, 筛选出前景中更适合用来分类的部分



实现过程大致可以分为

* 计算图像的归一化直方图
  * 统计每个灰度级像素点个数$n_j$
  * 计算比例$p_j$
* 计算每个像素点出现的累计概率和$P_j$
* 计算图像的第一类的灰度均值$m_1$和全局灰度均值$m_G$
* 重新计算映射后灰度值$s_k$
* 更新灰度值

## 结果

* 实现函数

* 效果对比

| 原图            | 自编函数的结果                |
| --------------- | ----------------------------- |
| ![](0501bw.bmp) | ![](result/灰度均衡结果2.png) |
| ![](data2.bmp)  | ![](result/灰度均衡结果.png)  |